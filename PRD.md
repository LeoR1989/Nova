# NOVA 产品需求文档 (PRD)

> 版本：v1.0
> 作者：李老板
> 日期：2026-02-09
> 状态：Draft

---

## 1. 产品概述

### 1.1 产品名称
**NOVA** - 老年智能生活助手

### 1.2 产品定位
为 55+ 中国中老年人群打造的 AI 驱动的超级生活助手，通过自然语言对话降低科技使用门槛，帮助他们享受数字化生活。

### 1.3 核心问题
中老年人群因不会使用手机、无法理解复杂交互流程，无法享受科技带来的便利。

### 1.4 目标用户画像
| 维度 | 描述 |
|------|------|
| 年龄 | 55-80 岁 |
| 技术水平 | 会用微信收发消息、拍照、看分享链接 |
| 痛点 | 打车、购物、获取信息、分享生活、AI 生成内容等场景操作复杂 |
| 支付能力 | 有支付能力，但不会使用网络支付 |

### 1.5 解决方案
微信小程序 + AI 对话式交互：
- 界面像微信聊天，降低学习成本
- 自然语言交互 + 简单点击选择
- AI 主动发起对话，根据用户记忆提供个性化服务

---

## 2. 商业模式

### 2.1 收入模型

| 模式 | 说明 |
|------|------|
| **订阅会员** | 月付/年付，解锁增值功能（如 AI 修图次数） |
| **导流抽佣** | 购物、打车等服务导流抽佣 |
| **严选商品** | 规模扩大后推出自有平台商品 |

### 2.2 支付解决方案
- **微信支付**：小程序内直接支付
- **子女代付**：老年人可通过微信消息向子女发送付款请求，子女代为支付

### 2.3 定价策略（待定）
- 免费功能：基础对话、资讯推送
- 会员功能：AI 修图（次数限制）、AI 生图（无限）、AI 传记（限次数）

---

## 3. 功能清单

### 3.1 MVP 功能（第一版）

| 模块 | 功能 | 优先级 |
|------|------|--------|
| **核心对话** | 自然语言交互 | P0 |
| **主动交互** | 任务事项提醒、推送热门资讯 | P0 |
| **AI 生成内容** | AI 修图、AI 生图、AI 生成个人传记 | P0 |
| **分享生活** | 兴趣爱好作品分享、点赞排行榜 | P0 |
| **账号系统** | 云端记忆、跨设备同步 | P0 |
| **支付系统** | 微信支付、子女代付 | P0 |

### 3.2 功能详情

#### 3.2.1 核心对话
- 自然语言理解（中英文 + 方言）
- 多轮对话上下文记忆
- 语音输入 + 语音输出
- 本地缓存 + 云端备份

#### 3.2.2 主动交互
- 基于时间/场景的主动提醒（如天气、节日问候）
- 基于用户兴趣的资讯推送
- 任务进度跟踪（如购物物流提醒）

#### 3.2.3 AI 生成内容
- **AI 修图**：美颜、背景替换、照片修复
- **AI 生图**：文生图、风格迁移
- **AI 个人传记**：根据用户口述自动生成人生故事

#### 3.2.4 分享生活
- 发布图文/视频作品
- 按兴趣分类（书法、绘画、广场舞、养生等）
- 点赞排行榜（同类目/全局）
- 关注/粉丝系统

#### 3.2.5 账号与记忆
- 微信授权登录
- 云端存储用户画像（年龄、地址、家庭成员等）
- 隐私保护：敏感信息用户可控，AI 记忆仅对话可见
- 跨设备同步（换手机不丢失）

#### 3.2.6 支付系统
- 微信支付 API 接入
- 子女代付请求推送（微信消息模板）
- 支付记录查询

---

## 4. 技术架构

### 4.1 技术栈选择

| 层级 | 技术选型 | 说明 |
|------|----------|------|
| **前端** | 微信小程序原生开发 | 微信生态内触达用户，最大限度利用微信能力 |
| **后端** | Node.js + Express（单体架构） | 轻量高效，生态成熟，适合 MVP 和早期阶段 |
| **数据库** | PostgreSQL | 成熟稳定，适合关系型数据 |
| **缓存** | Redis | 热点数据缓存（用户画像、对话上下文）、提升响应速度 |
| **文件存储** | 云对象存储（OSS/COS/S3）+ CDN | 用户图片/音频存储，可靠性高、访问快 |
| **AI - LLM** | MiniMax M2.1 | 已有 Coding Plan 账号，成本可控 |
| **AI - ASR** | 豆包（字节跳动）云端 API | 200+ 方言支持，API 接入简单，适合早期阶段 |
| **AI - TTS** | 豆包云端 API | 自然度高，支持多音色，适合早期阶段 |
| **部署** | Docker + 云服务器 | 可移植性好，未来可演进到微服务 |

### 4.2 系统架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                         用户端                                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                     微信小程序                           │   │
│  │   ┌─────────┐  ┌─────────┐  ┌─────────────────────┐   │   │
│  │   │  聊天   │  │  分享   │  │     AI 生成内容      │   │   │
│  │   │  界面   │  │  社区   │  │   （修图/生图）     │   │   │
│  │   └─────────┘  └─────────┘  └─────────────────────┘   │   │
│  └────────────────────────┬────────────────────────────────┘   │
│                           │ HTTPS (REST API)                    │
└───────────────────────────┼─────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                      后端服务（单体架构）                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                    Node.js + Express                     │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │   │
│  │  │  微信支付   │  │  主动交互   │  │    推送引擎     │  │   │
│  │  │   API      │  │   触发器    │  │  （服务通知）   │  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  │   │
│  └────────────────────────┬────────────────────────────────┘   │
│                           │                                      │
│  ┌────────────────────────┴────────────────────────────────┐   │
│  │                    业务逻辑层                              │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │   │
│  │  │  对话管理   │  │  记忆存储   │  │   内容安全      │  │   │
│  │  │  (Redis)   │  │  (PG)      │  │   审核          │  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
                            │
              ┌─────────────┼─────────────┐
              │             │             │
              ▼             ▼             ▼
┌─────────────────────────────────────────────────────────────────┐
│                       数据存储层                                  │
│  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐   │
│  │   PostgreSQL   │  │     Redis      │  │  云对象存储    │   │
│  │  (用户/内容)   │  │  (热缓存)      │  │  (OSS/COS)    │   │
│  └────────────────┘  └────────────────┘  └────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                      AI 服务层（云端 API）                       │
│  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐   │
│  │  MiniMax M2.1  │  │   豆包 ASR    │  │   豆包 TTS    │   │
│  │    (LLM)      │  │  (语音识别)    │  │   (语音合成)  │   │
│  └────────────────┘  └────────────────┘  └────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 4.3 数据模型（核心表）

#### 4.3.1 用户表 (users)
| 字段 | 类型 | 说明 |
|------|------|------|
| id | UUID | 用户 ID |
| wechat_openid | VARCHAR | 微信 OpenID（唯一标识） |
| nickname | VARCHAR | 昵称 |
| avatar_url | VARCHAR | 头像 |
| age | INT | 年龄 |
| address | JSONB | 地址信息（省/市/区/详细地址） |
| family_members | JSONB | 家庭成员（关系+联系方式） |
| preferences | JSONB | 兴趣偏好（阅读/养生/广场舞等） |
| notification_enabled | BOOLEAN | 是否开启推送通知 |
| push_quota_used | INT | 当日推送已使用条数 |
| created_at | TIMESTAMP | 创建时间 |
| updated_at | TIMESTAMP | 更新时间 |

#### 4.3.2 对话记忆表 (user_memories)
| 字段 | 类型 | 说明 |
|------|------|------|
| id | UUID | 记忆 ID |
| user_id | UUID | 用户 ID |
| memory_type | VARCHAR | 记忆类型（profile/interest/history） |
| content | JSONB | 记忆内容 |
| confidence | FLOAT | AI 置信度（0-1） |
| created_at | TIMESTAMP | 创建时间 |
| updated_at | TIMESTAMP | 更新时间 |

#### 4.3.3 对话历史表 (conversations)
| 字段 | 类型 | 说明 |
|------|------|------|
| id | UUID | 对话 ID |
| user_id | UUID | 用户 ID |
| messages | JSONB | 对话消息数组（最多50轮） |
| summary | TEXT | 对话摘要 |
| created_at | TIMESTAMP | 创建时间 |
| expires_at | TIMESTAMP | 过期时间（30天后自动清理） |

#### 4.3.4 推送记录表 (notifications)
| 字段 | 类型 | 说明 |
|------|------|------|
| id | UUID | 推送 ID |
| user_id | UUID | 用户 ID |
| push_type | VARCHAR | 推送类型（time/event/behavior/content） |
| title | VARCHAR | 推送标题 |
| content | TEXT | 推送内容 |
| sent_at | TIMESTAMP | 发送时间 |
| read_at | TIMESTAMP | 阅读时间 |

#### 4.3.5 用户作品表 (user_posts)
| 字段 | 类型 | 说明 |
|------|------|------|
| id | UUID | 作品 ID |
| user_id | UUID | 发布用户 ID |
| content | TEXT | 文字内容 |
| media_urls | JSONB | 图片/视频 URL 数组 |
| category | VARCHAR | 分类（书法/绘画/广场舞/养生等） |
| likes_count | INT | 点赞数 |
| created_at | TIMESTAMP | 发布时间 |

### 4.4 对话记忆系统（核心创新）

**设计理念**：通过分层记忆架构，平衡 AI 理解能力与成本控制。

| 层级 | 存储内容 | 存储位置 | 用途 | 保留策略 |
|------|----------|----------|------|----------|
| **短期记忆** | 最近 50 轮对话 | Redis（热缓存） | 当前对话上下文 | 实时更新 |
| **中期记忆** | 对话摘要 | PostgreSQL | 历史回顾、上下文连贯性 | 保留 30 天 |
| **长期记忆** | 用户画像、关键信息 | PostgreSQL | AI 主动交互、个性化服务 | 永久保留 |

**工作流程**：
```
1. 用户登录小程序
   │
   ▼
2. 验证身份，从 PostgreSQL 读取长期记忆
   │
   ▼
3. 长期记忆加载到 Redis 缓存（提升读取速度）
   │
   ▼
4. 对话开始
   │
   ├─ 短期记忆：Redis 实时读取（毫秒级响应）
   ├─ AI 回复后：生成对话摘要，存储到 PostgreSQL
   └─ 提取关键信息：更新用户画像（长期记忆）
   │
   ▼
5. 新对话开始：优先从 Redis 读取长期记忆
```

**Token 成本控制**：
- 每轮对话仅携带最近 50 轮原始对话
- 长期记忆以结构化 JSON 形式拼接（比纯文本更省 Token）
- 对话摘要定期压缩，避免历史膨胀

### 4.5 主动交互推送引擎

**推送规则汇总**：

| 触发类型 | 场景 | 每日上限 | 渠道 |
|----------|------|----------|------|
| 时间触发 | 早上问好、天气变化 | 1 条 | 微信服务通知 |
| 事件触发 | 节日、生日 | 2 条 | 微信服务通知 |
| 事件触发 | 物流到达 | **不限制** | 微信服务通知 |
| 行为触发 | 长时间未打开 App | 1 条 | 微信服务通知 |
| 内容推送 | 同城爱好动态 | 3 条 | 微信服务通知 |
| **合计** | | **最多 7 条/天** | |

**推送授权策略**：
- 首次使用时强制弹窗请求授权
- 授权被拒后，引导用户去设置里手动开启
- 用户可随时在设置中关闭通知

### 4.6 数据安全与合规

#### 4.6.1 安全策略
| 层级 | 措施 |
|------|------|
| **传输加密** | 全站 HTTPS（基础要求） |
| **存储加密** | 敏感字段（地址、支付信息）数据库层面加密 |
| **访问控制** | 开发/运维人员无权访问用户明文数据 |
| **日志脱敏** | 用户行为日志不显示真实敏感信息 |

#### 4.6.2 内容审核
| 类型 | 审核方案 | 说明 |
|------|----------|------|
| 文本内容 | 微信内容安全检测接口 | 免费、够用 |
| 图片内容 | 阿里云内容审核 API | 便宜、准确 |

#### 4.6.3 AI 生成内容合规
- 用户协议明确：AI 生成内容仅限个人使用
- 提供举报机制，违规内容下架
- AI 生成图片自动添加"NOVA AI 生成"水印

### 4.7 多设备登录与日志监控

#### 4.7.1 多设备登录
- 支持同一账号在多设备（手机、平板）同时登录
- 对话状态实时同步（Redis Pub/Sub）
- 用户操作在任意设备上立即生效

#### 4.7.2 日志监控
| 类型 | 内容 | 用途 |
|------|------|------|
| **错误日志** | 崩溃、异常、API 错误 | 问题排查 |
| **行为日志** | 用户操作路径、点击流 | 产品优化 |
| **性能日志** | 接口响应时间、API 调用耗时 | 性能优化 |
| **推送日志** | 推送送达率、打开率 | 推送策略优化 |

**监控工具建议**：
- 错误追踪：Sentry（免费版够用）
- 日志分析：ELK Stack 或云服务商自带日志服务

---

## 4.8 UI/UX 设计规范

> 本节由"资深交互和视觉设计师"角色撰写，确保产品符合老年用户的使用习惯。

### 4.8.1 设计原则

| 原则 | 说明 |
|------|------|
| **零学习成本** | 交互模式完全复刻微信，降低使用门槛 |
| **清晰易读** | 字体大、对比度高、层次分明 |
| **操作明确** | 反馈即时、操作结果清晰可见 |
| **温暖亲切** | 暖色调设计，AI 主动关怀 |

### 4.8.2 视觉设计规范

#### 4.8.2.1 色彩规范
| 类型 | 颜色代码 | 用途 |
|------|----------|------|
| **主色** | #FF9F43 (橙色) | 主要按钮、关键操作 |
| **辅助色** | #FFEAA7 (浅黄) | 背景、卡片 |
| **点缀色** | #FF6B6B (珊瑚红) | 未读消息、提醒 |
| **文字色** | #2D3436 (深灰) | 正文 |
| **背景色** | #F5F6FA (米白) | 全局背景 |

#### 4.8.2.2 字体规范
| 场景 | 字号 | 字重 |
|------|------|------|
| **正文** | 18px | Regular |
| **标题** | 22-24px | Medium |
| **AI 回复** | 18px | Regular |
| **用户输入** | 18px | Regular |
| **辅助文字**（时间/来源）| 14px | Light |
| **按钮文字** | 20px | Medium |

#### 4.8.2.3 间距与尺寸
| 类型 | 尺寸 |
|------|------|
| **可点击元素最小高度** | 48px (微信小程序标准) |
| **按钮内边距** | 16px |
| **卡片圆角** | 12px |
| **消息气泡圆角** | 8px |

### 4.8.3 页面结构

#### 4.8.3.1 首页（聊天页面）
```
┌─────────────────────────────────┐
│  ← 返回    NOVA    [头像]       │  ← 顶部导航栏
├─────────────────────────────────┤
│                                 │
│    [用户头像]  [消息气泡]        │
│    消息内容...                   │
│    10:23                        │
│                                 │
│              [AI头像]  [气泡]    │
│              消息内容...          │
│              10:24               │
│                                 │
├─────────────────────────────────┤
│  [推荐功能区：5-6个按钮 + 更多] │  ← 输入框上方
├─────────────────────────────────┤
│  [语音]  [输入框]      [发送]   │  ← 底部操作栏
└─────────────────────────────────┘
```

**首页设计要点**：
- 直接进入聊天窗口，无需额外点击
- 推荐功能区位于输入框上方
- AI 主动打招呼，引导用户开始对话

#### 4.8.3.2 顶部导航
```
┌─────────────────────────────────┐
│  ←  [对话]  [功能]  [分享生活] │  ← 3个Tab切换
├─────────────────────────────────┤
│  [头像]                        │  ← 左上角，点击进入个人中心
└─────────────────────────────────┘
```

**导航设计要点**：
- 3个Tab切换：对话 / 功能 / 分享生活
- 左上角头像作为个人中心入口
- Tab下方红色数字显示未读消息数

#### 4.8.3.3 个人中心页面
- 头像、昵称
- 会员状态
- 勋章展示区（排行榜前500名）
- 个人传记入口（书籍样式）
- 设置入口

### 4.8.4 交互规范

#### 4.8.4.1 聊天交互（完全复刻微信）
| 交互场景 | 设计规范 |
|----------|----------|
| **语音输入** | 按住说话，松开发送（和微信一样） |
| **文字输入** | 点击切换到文字输入框 |
| **发送消息** | 点击发送按钮 |
| **消息气泡** | 完全复刻微信样式 |
| **语音消息** | 显示波形图，不支持转文字 |

#### 4.8.4.2 操作反馈规范
| 场景 | 反馈方式 |
|------|----------|
| **发送中** | 简单状态显示 |
| **发送成功** | 消息出现在对话中 |
| **发送失败** | 弹窗提示 + 重试按钮 |
| **AI 生成中** | "AI 正在思考..." + 加载动画 + 流式输出 |
| **网络失败** | Toast 提示 + 本地缓存 + 失败标识 + 一键重发 |

#### 4.8.4.3 推荐功能区
- **位置**：输入框上方
- **数量**：5-6 个常用功能 + "更多"展开
- **样式**：图标 + 文字
- **排序**：根据用户使用频率动态调整
- **默认功能**：打车、购物、资讯、修图、生图

### 4.8.5 引导与发现

#### 4.8.5.1 首次使用引导
- AI 主动打招呼
- 询问用户称呼
- 引导确认基础信息（年龄、地址等）
- 介绍主要功能

#### 4.8.5.2 功能发现
- **AI 推荐**：根据对话上下文主动推荐功能
- **功能按钮**：输入框上方推荐功能区
- **更多入口**："更多"按钮展开所有功能
- **Tab 导航**：顶部 Tab 切换到"功能"页面

### 4.8.6 分享生活社区

#### 4.8.6.1 社区入口
- 顶部 Tab：切换到"分享生活"
- 功能列表入口："附近的新鲜事"

#### 4.8.6.2 发布流程
- 和发朋友圈一样：选择照片/视频 + 文字
- 支持 AI 引导分享
- 发布后自动推送给同城同兴趣用户

#### 4.8.6.3 排行榜设计
- 参考王者荣耀：省/市/区排名
- 显示规则：省第X名 / 市第X名 / 区第X名
- 前500名：特殊标志勋章
- 勋章展示位置：个人主页

### 4.8.7 个人传记功能

#### 4.8.7.1 入口
- 功能按钮区单独入口
- 个人主页"书籍样式"入口

#### 4.8.7.2 交互流程
- AI 主动引导用户回顾人生
- 一步步提问收集信息
- 自动生成文字版传记

#### 4.8.7.3 分享功能
- 可分享给子女
- 可分享到朋友圈
- 子女收到后可直接支付（代付场景）

---

## 5. VC 视角：风险与质疑

> 本节由"苛刻 VC"角色撰写，旨在暴露产品风险

### 5.1 商业模式可行性

| 问题 | 质疑 | 评级 |
|------|------|------|
| **付费意愿** | 老年人付费意愿低？子女代付虽好，但子女会长期买单吗？ | 🔴 高风险 |
| **抽佣模式** | 打车、购物平台已有完整生态，为什么要导流给你？佣金比例能谈下来吗？ | 🟡 中风险 |
| **会员价值** | AI 修图/生图是高频需求吗？用户愿意为这个付多少钱？ | 🟡 中风险 |

### 5.2 开发成本评估

| 功能 | 预估工时 | 风险点 |
|------|----------|--------|
| 核心对话 + 方言识别 | 4-6 周 | 方言识别准确率可能不达预期，需要大量调试 |
| 主动交互 + 记忆系统 | 3-4 周 | AI 主动提醒做不好会变成"骚扰" |
| AI 生成内容（修图/生图/传记） | 5-7 周 | 图片生成算力成本高，ROI 可能为负 |
| 分享生活 + 排行榜 | 3-4 周 | 社交功能冷启动难，没有用户就没有内容 |
| 支付系统 + 子女代付 | 3-4 周 | 支付流程要极致简单，出错会失去信任 |
| **总计** | **18-25 周** | **5-7 个月**，建议分版本交付 |

### 5.3 分版本交付策略（VC 建议）

建议采用分版本交付策略，降低一次上线风险：

| 版本 | 交付功能 | VC 建议 |
|------|---------|---------|
| **v0.1** | 用户登录 + 基础对话 + 云端记忆 | ✅ 先验证对话核心体验 |
| **v0.2** | 主动提醒 + 资讯推送 | ⚠️ 注意推送频率，别变成骚扰 |
| **v0.3** | AI 生成内容（修图/生图/传记） | ⚠️ 控制算力成本，先验证用户付费意愿 |
| **v0.4** | 分享生活 + 排行榜 | 🔴 社交冷启动最难，建议放到后期 |
| **v0.5** | 支付系统 + 子女代付 | 🔴 支付是信任基石，上线前必须充分测试 |
| **v1.0** | 全功能上线 | ✅ 全部功能稳定后，再大规模推广 |

### 5.4 成本控制建议

| 项目 | 建议 |
|------|------|
| **AI API** | 先用 MiniMax（已有账号）+ 豆包 ASR/TTS，严格控制调用量 |
| **服务器** | 采用穷鬼版方案（轻量服务器），用户量上来再升级 |
| **开发人力** | 如果外包，优先做 v0.1-v0.2，验证后再投更多资源 |
| **推广预算** | 前期靠种子用户口碑传播，不要大额投广告 |

---

## 6. 财务预估

### 6.1 月度成本（1,000 DAU）

| 项目 | 最低配置 | 最高配置 | 说明 |
|------|----------|----------|------|
| **服务器** (云主机) | ¥300 | ¥800 | 1-2 台 VPS |
| **数据库** (RDS) | ¥200 | ¥500 | PostgreSQL |
| **AI API - LLM** (MiniMax) | ¥500 | ¥1,500 | 按 token 计费 |
| **AI API - ASR** (豆包) | ¥300 | ¥800 | 按调用次数 |
| **AI API - TTS** (豆包) | ¥200 | ¥600 | 按字符数 |
| **文件存储** (S3/OSS) | ¥50 | ¥200 | 图片/音频存储 |
| **域名 + HTTPS + 微信认证** | ¥50 | ¥100 | 年度摊销 |
| **总计** | **¥1,600** | **¥4,500** | **¥19K-54K/年** |

### 6.2 月度成本（10,000 DAU）

| 项目 | 预估成本 | 说明 |
|------|----------|------|
| **服务器** | ¥2,000-5,000 | 需要负载均衡 |
| **数据库** | ¥1,000-2,000 | 读写分离 |
| **AI API - LLM** | ¥5,000-15,000 | 对话量线性增长 |
| **AI API - ASR** | ¥2,000-5,000 | 语音输入量增长 |
| **AI API - TTS** | ¥1,500-4,000 | 语音输出量增长 |
| **文件存储** | ¥500-2,000 | 用户生成内容增长 |
| **CDN** | ¥500-1,500 | 静态资源加速 |
| **总计** | **¥12,500-34,500** | **¥150K-414K/年** |

### 6.3 穷鬼版部署方案（省钱攻略）

| 优化项 | 原方案 | 穷鬼版 |
|--------|--------|--------|
| **服务器** | AWS EC2 + RDS | 腾讯云/阿里云轻量应用服务器（¥99/月） |
| **数据库** | RDS | 直接装在服务器上，初期够用 |
| **AI API** | 全用付费 API | 混用方案：LLM 用 MiniMax（已有），ASR 用 FunAudioLLM（开源自部署） |
| **文件存储** | S3 | 腾讯云 COS / 阿里云 OSS（免费额度内） |
| **预估月成本** | ¥1,600 | **¥300-500** |
| **预估年成本** | ¥19K-54K | **¥3.6K-6K** |

**穷鬼版风险**：
- ASR/TTS 开源自部署需要 Linux 服务器运维能力
- 初期够用，用户量上来后必须升级

---

## 7. 下一步行动

### 7.1 微信小程序认证策略

| 阶段 | 认证类型 | 说明 |
|------|----------|------|
| **前期验证** | 个人主体（免费） | 跑通核心对话流程，验证用户需求 |
| **支付上线前** | 企业认证（300 元/年） | 升级以开通微信支付、子女代付功能 |

**注意**：个人主体无法迁移，建议产品验证成功后再注册正式企业版小程序。

### 7.2 版本发布计划

采用 **分版本迭代 + 测试驱动开发（TDD）** 模式，确保质量。

| 版本 | 交付功能 | 测试标准 | 预计周期 | 交付物 |
|------|---------|---------|----------|--------|
| **v0.1** | 用户登录 + 基础对话 + 云端记忆 | 用户能注册/登录，对话能保存/同步 | 2 周 | 对话模块可运行 |
| **v0.2** | 主动提醒 + 资讯推送 | AI 能在正确时间推送提醒 | 2 周 | 主动交互模块 |
| **v0.3** | AI 生成内容（修图/生图/传记） | 图片/文字生成成功 + 保存 | 3 周 | AI 内容模块 |
| **v0.4** | 分享生活（发布/浏览/排行榜） | 用户能发作品，能浏览，排行榜正常 | 2 周 | 社交模块 |
| **v0.5** | 支付系统 + 子女代付 | 支付流程走通，代付消息能收到 | 2 周 | 支付模块 |
| **v1.0** | 全功能上线 + 性能优化 | 1 万 DAU 压测通过 | 2 周 | 正式版发布 |
| **总计** | **全部功能** | | **13-15 周** | |

### 7.3 测试驱动开发（TDD）规范

每个版本开发遵循 TDD 流程：

```
1. 编写测试用例 → 明确功能验收标准
2. 运行测试（失败）→ 确保测试真正有效
3. 编写代码 → 实现功能
4. 运行测试（通过）→ 确保代码满足需求
5. 代码重构 → 优化代码质量
6. 提交代码 → 触发 CI/CD
```

**测试类型**：
- **单元测试**：核心函数、工具类
- **集成测试**：API 接口、数据存储
- **端到端测试**：用户完整流程（登录→对话→支付）

### 7.4 待确认事项

- [ ] 方言支持：选择哪个 ASR 模型？是否需要定制？
- [ ] 微信小程序个人认证是否开始注册？
- [ ] 是否接受分版本发布方案？
- [ ] TDD 测试框架选择？（Jest / Mocha / Cypress）

---

## 8. 附录

### 8.1 术语表

| 术语 | 含义 |
|------|------|
| **LLM** | Large Language Model，大语言模型 |
| **ASR** | Automatic Speech Recognition，语音识别 |
| **TTS** | Text-To-Speech，语音合成 |
| **DAU** | Daily Active Users，日活跃用户数 |
| **MVP** | Minimum Viable Product，最小可行产品 |
| **API** | Application Programming Interface，应用程序接口 |
| **Token** | AI 模型计费单位（通常 1 token ≈ 4 个字符） |
| **ROI** | Return On Investment，投资回报率 |
| **OpenID** | 微信用户唯一标识 |

### 8.2 参考资料

- [豆包 AI 开放平台](https://www.volcengine.com/docs/6791/1362531)
- [MiniMax API 文档](https://api.minimax.io/docs/)
- [微信小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)

---

> ⚠️ **免责声明**：本文档为产品需求草稿，所有预估（成本、工时、用户量）均为初步估算，实际执行中可能存在偏差。建议在开发前进行更详细的技术调研和成本测算。
